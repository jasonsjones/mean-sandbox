<div class="container">
  <div class="col-lg-8 col-lg-offset-2">
      <div class="atm-card">
          <div class="atm-card-header">
              <a href="/atm"><i class="fa fa-long-arrow-left fa-2x pull-left"></i></a>
              <i class="fa fa-close fa-2x pull-right"></i>
              <h2 class="text-center">ATM Transaction Details</h2>
              <h4><span class="amount">{{ vm.totalAmount | currency}}</span>
                  <span class="location pull-right">{{ vm.transaction.date | date }}</span></h4>
              <p class="location">{{ vm.transaction.location }}</p>
          </div>
          <div class="atm-card-body">
              <table class="table">
                  <thead>
                      <th>Amount</th>
                      <th>Description</th>
                  </thead>
                  <tbody>
                      <tr>
                          <td><input type="text" placeholder="Purchase Amount" ng-model="vm.newPurchase.amount"/></td>
                          <td><input type="text" placeholder="Description" ng-model="vm.newPurchase.description"/></td>
                          <td><button class="btn btn-primary" ng-click="vm.addPurchase()"><i class="fa fa-plus"></i> Add</button></td>
                      </tr>
                      <tr ng-repeat="p in vm.purchases">
                          <td ng-hide="vm.editPurchaseState">{{ p.amount | currency }}</td>
                          <td ng-hide="vm.editPurchaseState">{{ p.description }}</td>
                          <td ng-show="vm.editPurchaseState"><input type="text" ng-model="p.amount"/></td>
                          <td ng-show="vm.editPurchaseState"><input type="text" ng-model="p.description"/></td>
                          <td ng-hide="vm.editPurchaseState"><i class="fa fa-pencil" ng-click="vm.editPurchase()"></i></td>
                          <td ng-show="vm.editPurchaseState"><i class="fa fa-plus" ng-click="vm.updatePurchase()"></i></td>
                          <td><i class="fa fa-trash" ng-click="vm.deletePurchase(p)"></i></td>
                      </tr>
                  </tbody>
                  <tfoot>
                      <tr>
                          <td>{{ vm.totalSpent | currency }}</td>
                          <td>total</td>
                      </tr>
                      <tr class="text-right remaining">
                          <td>{{ (vm.totalAmount - vm.totalSpent) | currency }}</td>
                          <td>remaining</td>
                      </tr>
                  </tfoot>
              </table>
          </div>
      </div>
  </div>
</div>